INSERT INTO `mdiy_model` ( `id`,`model_json`,`model_table_name`,`model_name`,`model_type`,`model_field`,`model_custom_type`,`del`,`not_del` ) VALUES  ( 1563806494588611149,'{\"searchJson\":\"[\\n        // 选择存储方式\\n        {\'action\':\'and\', \'field\': \'STORE_SELECT\', \'el\': \'eq\', \'model\': \'storeSelect\', \'name\': \'选择存储方式\', \'key\': \'dictValue\', \'title\': \'dictLabel\', \'type\': \'select\', \'multiple\': false},\\n        //文件域名主机\\n        {\'action\':\'and\', \'field\': \'STORE_ADDRESS\', \'el\': \'eq\', \'model\': \'storeAddress\', \'name\': \'文件域名主机\', \'type\': \'input\'},\\n        //浏览服务主机\\n        {\'action\':\'and\', \'field\': \'PREVIEW_ADDRESS\', \'el\': \'eq\', \'model\': \'previewAddress\', \'name\': \'浏览服务主机\', \'type\': \'input\'},\\n        // 选择存储方式\\n        {\'action\':\'and\', \'field\': \'STORE_SELECT\', \'el\': \'eq\', \'model\': \'storeSelect\', \'name\': \'选择存储方式\', \'key\': \'dictValue\', \'title\': \'dictLabel\', \'type\': \'select\', \'multiple\': false},\\n        //文件域名主机\\n        {\'action\':\'and\', \'field\': \'STORE_ADDRESS\', \'el\': \'eq\', \'model\': \'storeAddress\', \'name\': \'文件域名主机\', \'type\': \'input\'},\\n        //浏览服务主机\\n        {\'action\':\'and\', \'field\': \'PREVIEW_ADDRESS\', \'el\': \'eq\', \'model\': \'previewAddress\', \'name\': \'浏览服务主机\', \'type\': \'input\'},\\n]\\n\",\"isWebSubmit\":false,\"html\":\"\\n<template id=\\\"custom-model\\\">\\n    <el-form ref=\\\"form\\\" :model=\\\"form\\\" :rules=\\\"rules\\\" label-width=\\\"120px\\\" label-position=\\\"right\\\" size=\\\"small\\\">\\n\\n        <!--选择存储方式-->\\n    \\n        <el-form-item  label=\\\"选择存储方式\\\" prop=\\\"storeSelect\\\">\\n                    <el-select v-model=\\\"form.storeSelect\\\"\\n                               @visible-change=\\\"storeSelectOptionsGet\\\"\\n                               :style=\\\"{width: \'100%\'}\\\"\\n                               :filterable=\\\"false\\\"\\n                               :disabled=\\\"false\\\"\\n                               :multiple=\\\"false\\\" :clearable=\\\"true\\\"\\n                              placeholder=\\\"请选择选择存储方式\\\">\\n                        <el-option v-for=\'item in storeSelectOptions\' :key=\\\"item.dictValue\\\" :value=\\\"item.dictValue\\\"\\n                                   :label=\\\"item.dictLabel\\\"></el-option>\\n                    </el-select>\\n                <div class=\\\"ms-form-tip\\\">\\n默认使用本地存储,如果选择云存储,需要填写对应的自定义配置和自定义字典,字典的value值为后端实现上传类的beanName一致,不能轻易修改                </div>\\n        </el-form-item>\\n   \\n            <!--文件域名主机-->\\n\\t        <el-form-item  label=\\\"文件域名主机\\\" prop=\\\"storeAddress\\\">\\n\\t            <el-input\\n                        v-model=\\\"form.storeAddress\\\"\\n                         :disabled=\\\"false\\\"\\n                          :readonly=\\\"false\\\"\\n                          :style=\\\"{width:  \'100%\'}\\\"\\n                          :clearable=\\\"true\\\"\\n                        placeholder=\\\"请输入文件域名主机\\\">\\n                </el-input>\\n                <div class=\\\"ms-form-tip\\\">\\n提供给文件预览服务使用，例如：http://www.mingsoft.net/                </div>\\n\\t        </el-form-item>   \\n            <!--浏览服务主机-->\\n\\t        <el-form-item  label=\\\"浏览服务主机\\\" prop=\\\"previewAddress\\\">\\n\\t            <el-input\\n                        v-model=\\\"form.previewAddress\\\"\\n                         :disabled=\\\"false\\\"\\n                          :readonly=\\\"false\\\"\\n                          :style=\\\"{width:  \'100%\'}\\\"\\n                          :clearable=\\\"true\\\"\\n                        placeholder=\\\"请输入浏览服务主机\\\">\\n                </el-input>\\n                <div class=\\\"ms-form-tip\\\">\\n填写文件预览服务的访问地址，后面的url=为必须，实际访问会拼接文件域名主机+文件路径                </div>\\n\\t        </el-form-item>   \\n    </el-form>\\n</template>\\n\",\"script\":\"\\n\\nvar custom_model = Vue.component(\\\"custom-model\\\",{\\nel: \'#custom-model\',\\ndata:function() {\\nreturn {\\n\\nmodelId:0,\\nmodelName: \\\"存储设置\\\",\\n                // 选择存储方式\\n                storeSelectOptions:[],\\n//表单数据\\nform: {\\nlinkId:0,\\n                    // 选择存储方式\\n                    storeSelect:\\\"\\\",\\n                    // 文件域名主机\\n                    storeAddress:\'\',\\n                    // 浏览服务主机\\n                    previewAddress:\'http://192.168.0.7:5000/onlinePreview?url=\',\\n},\\n\\nrules:{\\n                        // 选择存储方式\\n                        storeSelect: [{\\\"required\\\":true,\\\"message\\\":\\\"请选择选择存储方式\\\"}],\\n                        // 文件域名主机\\n                        storeAddress: [{\\\"required\\\":true,\\\"message\\\":\\\"文件域名主机不能为空\\\"},{\\\"min\\\":0,\\\"max\\\":255,\\\"message\\\":\\\"文件域名主机长度必须为0-255\\\"}],\\n                        // 浏览服务主机\\n                        previewAddress: [{\\\"required\\\":true,\\\"message\\\":\\\"浏览服务主机不能为空\\\"},{\\\"min\\\":0,\\\"max\\\":255,\\\"message\\\":\\\"浏览服务主机长度必须为0-255\\\"}],\\n},\\n}\\n},\\nwatch:{\\n},\\ncomputed:{\\n},\\nmethods: {\\n                   //选择存储方式  列表格式化\\n\\t\\tstoreSelectFormat:function(row, column, cellValue, index){\\n\\t\\t\\tvar value=\\\"\\\";\\n                        \\n\\t\\t\\tif(cellValue){\\n\\t\\t\\t\\tvar data = this.storeSelectOptions.find(function(value){\\n\\t\\t\\t\\t\\treturn value.dictValue==cellValue;\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\tif(data&&data.dictLabel){\\n\\t\\t\\t\\t\\tvalue = data.dictLabel;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn value;\\n\\t\\t},\\n\\n\\t\\t//获取storeSelect数据源\\n\\t\\tstoreSelectOptionsGet:function() {\\n                    var that = this;\\n                    ms.http.get(ms.base+\'/mdiy/dict/list.do\', {dictType:\'文件上传类型\',pageSize:99999}).then(function (res) {\\n                        that.storeSelectOptions = res.data.rows;\\n                    }).catch(function (err) {\\n                        console.log(err);\\n                    });\\n                },\\n\\n\\nvalidate:function(){\\nvar b = false\\nthis.$refs.form.validate(function(valid){\\nb = valid;\\n});\\nreturn b;\\n},\\nsave:function(callback) {\\nvar that = this;\\nvar url = this.formURL.save.url;\\nif (that.form.id > 0) {\\nurl = this.formURL.update.url;\\n}\\nthis.$refs.form.validate(function(valid) {\\nif (valid) {\\nvar form = JSON.parse(JSON.stringify(that.form));\\nform.modelId = that.modelId;\\nms.http.post(url, form).then(function (res) {\\nif(callback) {\\ncallback(res);\\n}\\n});\\n}else{\\ncallback({result:false,msg:\'请检查表单输入项\'});\\n}\\n})\\n},\\n//获取当前存储设置\\nget:function(id) {\\nvar that = this;\\nms.http.get(this.formURL.get.url, Object.assign({\\\"modelId\\\":that.modelId},this.formURL.get.params)).then(function (res) {\\n                                      if(res.result&&res.data){\\nthat.form = res.data;\\n}\\n}).catch(function (err) {\\nconsole.log(err);\\n});\\n},\\n\\n},\\ncreated:function() {\\n//渲染create\\n//加载选择存储方式 数据\\n                this.storeSelectOptionsGet();\\n\\nthis.get(this.form.linkId);\\n}\\n});\"}',null,'存储设置','','[\r\n    {\r\n    \"model\":\"storeSelect\",\r\n    \"key\":\"STORE_SELECT\",\r\n    \"field\":\"STORE_SELECT\",\r\n    \"javaType\":\"String\",\r\n    \"jdbcType\":\"VARCHAR\",\r\n    \"name\":\"选择存储方式\",\r\n    \"type\":\"select\",\r\n    \"length\":\"255\",\r\n    \"isShow\":\"true\"\r\n    }\r\n    ,{\r\n    \"model\":\"storeAddress\",\r\n    \"key\":\"STORE_ADDRESS\",\r\n    \"field\":\"STORE_ADDRESS\",\r\n    \"javaType\":\"String\",\r\n    \"jdbcType\":\"VARCHAR\",\r\n    \"name\":\"文件域名主机\",\r\n    \"type\":\"input\",\r\n    \"length\":\"255\",\r\n    \"isShow\":\"true\"\r\n    }\r\n    ,{\r\n    \"model\":\"previewAddress\",\r\n    \"key\":\"PREVIEW_ADDRESS\",\r\n    \"field\":\"PREVIEW_ADDRESS\",\r\n    \"javaType\":\"String\",\r\n    \"jdbcType\":\"VARCHAR\",\r\n    \"name\":\"浏览服务主机\",\r\n    \"type\":\"input\",\r\n    \"length\":\"255\",\r\n    \"isShow\":\"true\"\r\n    }\r\n]\r\n\r\n','config',0,1 );
INSERT INTO `mdiy_config` ( `id`,`config_name`,`config_data`,`not_del`,`del` ) VALUES  ( 62,'存储设置','{\"previewAddress\":\"http://192.168.0.7:5000/onlinePreview?url=\",\"storeSelect\":\"uploadLocalService\",\"linkId\":\"0\",\"modelId\":\"1563806494588611149\",\"storeAddress\":\"http://192.168.0.6:5116/\"}',1,0 );
INSERT INTO `mdiy_model` ( `id`,`model_json`,`model_table_name`,`model_name`,`model_type`,`model_field`,`model_custom_type`,`del`,`not_del` ) VALUES  ( 1563806494588611121,'{\"searchJson\":\"[\\n        //AK\\n        {\'action\':\'and\', \'field\': \'QINIU_AK\', \'el\': \'eq\', \'model\': \'qiniuAk\', \'name\': \'AK\', \'type\': \'input\'},\\n        //SK\\n        {\'action\':\'and\', \'field\': \'QINIU_SK\', \'el\': \'eq\', \'model\': \'qiniuSk\', \'name\': \'SK\', \'type\': \'input\'},\\n        //存储空间名称\\n        {\'action\':\'and\', \'field\': \'BUCKET_NAME\', \'el\': \'eq\', \'model\': \'bucketName\', \'name\': \'存储空间名称\', \'type\': \'input\'},\\n        //AK\\n        {\'action\':\'and\', \'field\': \'QINIU_AK\', \'el\': \'eq\', \'model\': \'qiniuAk\', \'name\': \'AK\', \'type\': \'input\'},\\n        //SK\\n        {\'action\':\'and\', \'field\': \'QINIU_SK\', \'el\': \'eq\', \'model\': \'qiniuSk\', \'name\': \'SK\', \'type\': \'input\'},\\n        //存储空间名称\\n        {\'action\':\'and\', \'field\': \'BUCKET_NAME\', \'el\': \'eq\', \'model\': \'bucketName\', \'name\': \'存储空间名称\', \'type\': \'input\'},\\n        //AK\\n        {\'action\':\'and\', \'field\': \'QINIU_AK\', \'el\': \'eq\', \'model\': \'qiniuAk\', \'name\': \'AK\', \'type\': \'input\'},\\n        //SK\\n        {\'action\':\'and\', \'field\': \'QINIU_SK\', \'el\': \'eq\', \'model\': \'qiniuSk\', \'name\': \'SK\', \'type\': \'input\'},\\n        //存储空间名称\\n        {\'action\':\'and\', \'field\': \'BUCKET_NAME\', \'el\': \'eq\', \'model\': \'bucketName\', \'name\': \'存储空间名称\', \'type\': \'input\'},\\n]\\n\",\"isWebSubmit\":false,\"html\":\"\\n<template id=\\\"custom-model\\\">\\n    <el-form ref=\\\"form\\\" :model=\\\"form\\\" :rules=\\\"rules\\\" label-width=\\\"120px\\\" label-position=\\\"right\\\" size=\\\"small\\\">\\n\\n            <!--AK-->\\n\\t        <el-form-item  label=\\\"AK\\\" prop=\\\"qiniuAk\\\">\\n\\t            <el-input\\n                        v-model=\\\"form.qiniuAk\\\"\\n                         :disabled=\\\"false\\\"\\n                          :readonly=\\\"false\\\"\\n                          :style=\\\"{width:  \'100%\'}\\\"\\n                          :clearable=\\\"true\\\"\\n                        placeholder=\\\"请输入AK\\\">\\n                </el-input>\\n                <div class=\\\"ms-form-tip\\\">\\n七牛云账号的公钥                </div>\\n\\t        </el-form-item>   \\n            <!--SK-->\\n\\t        <el-form-item  label=\\\"SK\\\" prop=\\\"qiniuSk\\\">\\n\\t            <el-input\\n                        v-model=\\\"form.qiniuSk\\\"\\n                         :disabled=\\\"false\\\"\\n                          :readonly=\\\"false\\\"\\n                          :style=\\\"{width:  \'100%\'}\\\"\\n                          :clearable=\\\"true\\\"\\n                        placeholder=\\\"请输入SK\\\">\\n                </el-input>\\n                <div class=\\\"ms-form-tip\\\">\\n七牛云账号的公钥私钥 在https://portal.qiniu.com/user/key可以获取公钥和私钥                </div>\\n\\t        </el-form-item>   \\n            <!--存储空间名称-->\\n\\t        <el-form-item  label=\\\"存储空间名称\\\" prop=\\\"bucketName\\\">\\n\\t            <el-input\\n                        v-model=\\\"form.bucketName\\\"\\n                         :disabled=\\\"false\\\"\\n                          :readonly=\\\"false\\\"\\n                          :style=\\\"{width:  \'100%\'}\\\"\\n                          :clearable=\\\"true\\\"\\n                        placeholder=\\\"请输入存储空间名称\\\">\\n                </el-input>\\n                <div class=\\\"ms-form-tip\\\">\\n创建存储空间时,填入的名称在https://portal.qiniu.com/kodo/bucket查看                </div>\\n\\t        </el-form-item>   \\n    </el-form>\\n</template>\\n\",\"script\":\"\\n\\nvar custom_model = Vue.component(\\\"custom-model\\\",{\\nel: \'#custom-model\',\\ndata:function() {\\nreturn {\\n\\nmodelId:0,\\nmodelName: \\\"七牛云配置\\\",\\n//表单数据\\nform: {\\nlinkId:0,\\n                    // AK\\n                    qiniuAk:\'\',\\n                    // SK\\n                    qiniuSk:\'\',\\n                    // 存储空间名称\\n                    bucketName:\'\',\\n},\\n\\nrules:{\\n                        // AK\\n                        qiniuAk: [{\\\"required\\\":true,\\\"message\\\":\\\"AK不能为空\\\"},{\\\"min\\\":0,\\\"max\\\":255,\\\"message\\\":\\\"AK长度必须为0-255\\\"}],\\n                        // SK\\n                        qiniuSk: [{\\\"required\\\":true,\\\"message\\\":\\\"SK不能为空\\\"},{\\\"min\\\":0,\\\"max\\\":255,\\\"message\\\":\\\"SK长度必须为0-255\\\"}],\\n                        // 存储空间名称\\n                        bucketName: [{\\\"required\\\":true,\\\"message\\\":\\\"存储空间名称不能为空\\\"},{\\\"min\\\":0,\\\"max\\\":255,\\\"message\\\":\\\"存储空间名称长度必须为0-255\\\"}],\\n},\\n}\\n},\\nwatch:{\\n},\\ncomputed:{\\n},\\nmethods: {\\nvalidate:function(){\\nvar b = false\\nthis.$refs.form.validate(function(valid){\\nb = valid;\\n});\\nreturn b;\\n},\\nsave:function(callback) {\\nvar that = this;\\nvar url = this.formURL.save.url;\\nif (that.form.id > 0) {\\nurl = this.formURL.update.url;\\n}\\nthis.$refs.form.validate(function(valid) {\\nif (valid) {\\nvar form = JSON.parse(JSON.stringify(that.form));\\nform.modelId = that.modelId;\\nms.http.post(url, form).then(function (res) {\\nif(callback) {\\ncallback(res);\\n}\\n});\\n}\\n})\\n},\\n//获取当前七牛云配置\\nget:function(id) {\\nvar that = this;\\nms.http.get(this.formURL.get.url, Object.assign({\\\"modelId\\\":that.modelId},this.formURL.get.params)).then(function (res) {\\n                                                         if(res.result&&res.data){\\nthat.form = res.data;\\n}\\n}).catch(function (err) {\\nconsole.log(err);\\n});\\n},\\n\\n},\\ncreated:function() {\\n//渲染create\\n\\nthis.get(this.form.linkId);\\n}\\n});\"}',null,'七牛云配置','','[\r\n    {\r\n    \"model\":\"qiniuAk\",\r\n    \"key\":\"QINIU_AK\",\r\n    \"field\":\"QINIU_AK\",\r\n    \"javaType\":\"String\",\r\n    \"jdbcType\":\"VARCHAR\",\r\n    \"name\":\"AK\",\r\n    \"type\":\"input\",\r\n    \"length\":\"255\",\r\n    \"isShow\":\"true\"\r\n    }\r\n    ,{\r\n    \"model\":\"qiniuSk\",\r\n    \"key\":\"QINIU_SK\",\r\n    \"field\":\"QINIU_SK\",\r\n    \"javaType\":\"String\",\r\n    \"jdbcType\":\"VARCHAR\",\r\n    \"name\":\"SK\",\r\n    \"type\":\"input\",\r\n    \"length\":\"255\",\r\n    \"isShow\":\"true\"\r\n    }\r\n    ,{\r\n    \"model\":\"bucketName\",\r\n    \"key\":\"BUCKET_NAME\",\r\n    \"field\":\"BUCKET_NAME\",\r\n    \"javaType\":\"String\",\r\n    \"jdbcType\":\"VARCHAR\",\r\n    \"name\":\"存储空间名称\",\r\n    \"type\":\"input\",\r\n    \"length\":\"255\",\r\n    \"isShow\":\"true\"\r\n    }\r\n]\r\n\r\n','config',0,1 );
INSERT INTO `mdiy_config` ( `id`,`config_name`,`config_data`,`not_del`,`del` ) VALUES  ( 58,'七牛云配置','{\"qiniuAk\":\"vrw8AjBmhmtaCJ5WDRlqHxEDFaFrrKlCBcws0orD\",\"qiniuDomain\":\"http://r4k5o27wp.hn-bkt.clouddn.com\",\"bucketName\":\"ms-csp\",\"linkId\":\"0\",\"modelId\":\"71\",\"qiniuSk\":\"PGxc3fRTlWcBbZJE6npZR8XgP6rYP6Dmnv_04Itm\"}',1,0 );
